<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="theme-color" content="#673ab7">
        <title>Neighborhood Map</title>
        <link rel="stylesheet" href="assets/css/dist/bundle.css">
    </head>
    <body class="mdl-demo mdl-color--grey-100 mdl-color-text--grey-700 mdl-base">
        <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
            <header class="mdl-layout__header mdl-layout__header--scroll mdl-color--primary">

                <div class="mdl-layout__header-row">
                    <h3>Neighborhood Map</h3>
                </div>

            </header>
            <main class="mdl-layout__content">

                <div id="list">

                    <form data-bind="submit: formSubmit">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <input autocomplete="off" class="mdl-textfield__input" type="text" id="name" name="name" list="locationsNames" data-bind="value: search, valueUpdate: 'keyup'">
                            <label class="mdl-textfield__label" for="name">Location Name</label>
                            <datalist data-bind="foreach: locations" id="locationsNames">
                                <option value="" data-bind="text: name, attr: {value: name}"></option>
                            </datalist>
                        </div>

                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="showFav">
                                    <input type="checkbox" id="showFav" class="mdl-checkbox__input" data-bind="checked: showFav">
                                    <span class="mdl-checkbox__label">Favorite locations only</span>
                            </label>
                        </div>

                        <p data-bind="visible: filteredList().length < 1">No Ice Cream locations were found :'(</p>

                    </form>
                    <ul class="list-action mdl-list" data-bind="foreach: filteredList">

                        <div class="mdl-list__item" data-bind="click: $parent.setActiveLocation">
                            <span class="mdl-list__item-primary-content">
                                <span data-bind="text: name"></span>
                            </span>

                            <a data-bind="visible: favourite() === false, click: $parent.favouriteToggle" title="Add to favorite" class="mdl-list__item-secondary-action" href="#">
                                <img src="assets/img/addFav.svg" alt="Add to favorite icon">
                            </a>

                            <a data-bind="visible: favourite() === true, click: $parent.favouriteToggle" title="Remove from favorite" class="mdl-list__item-secondary-action" href="#">
                                <img src="assets/img/removeFav.svg" alt="Remove from favorite">
                            </a>
                        </div>

                    </ul>
                </div>
                <div id="map"></div>

            </main>

        </div>
        <script src="assets/js/dist/bundle.js"></script>
        <script async defer onerror="mapError()" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBnyTtR_jqpa44ZeXAMRWEf684CdYGs7Oo&callback=startAPP"></script>
    </body>
</html>